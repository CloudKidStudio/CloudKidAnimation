(function(e){if(!("namespace"in e)){var t=function(e){for(var t=e.split("."),i=window,n="",s=0,o=t.length;o>s;s++)n=t[s],i[n]=i[n]||{},i=i[n];return i};e.namespace=t}})(window),function(e,t){function i(e,t){n.output&&n.output.append('<div class="'+e+'">'+t+"</div>")}var n=function(){},s=e.console!==t;n.GENERAL=0,n.DEBUG=1,n.INFO=2,n.WARN=3,n.ERROR=4,n.minLogLevel=n.GENERAL,n.enabled=!0,n.output=null,n._NET_PORT=1025,n._isConnected=!1,n._socket=null,n._messageObj=null,n._messageQueue=null,n.connect=function(t){if(!("WebSocket"in e||"MozWebSocket"in e))return!1;e.WebSocket=WebSocket||MozWebSocket;try{var i=n._socket=new WebSocket("ws://"+t+":"+n._NET_PORT);i.onopen=o,i.onmessage=function(){},i.onclose=r,i.onerror=r,n._messageQueue=[],n._isConnected=!0}catch(s){return!1}return!0},n.disconnect=function(){n._isConnected&&(n._socket.close(),r())};var o=function(){window.onerror=a,n._messageObj={level:"session",message:""},n._socket.send(JSON.stringify(n._messageObj));for(var e=0;n._messageQueue.length>e;++e)n._socket.send(JSON.stringify(n._messageQueue[e]));n._messageQueue=null},a=function(e,t,i){return n.remoteLog("Error: "+e+" in "+t+" at line "+i,"ERROR"),!1},r=function(){window.onerror=null,n._isConnected=!1;var e=n._socket;e.onopen=null,e.onmessage=null,e.onclose=null,e.onerror=null,n._socket=null,n._messageObj=null,n._messageQueue=null};n.remoteLog=function(e,t){t||(t="GENERAL"),n._messageQueue?n._messageQueue.push({message:e,level:t}):(n._messageObj.level=t,n._messageObj.message=e,n._socket.send(JSON.stringify(n._messageObj)))},n.log=function(e){n.enabled&&(n._isConnected?n.remoteLog(e,"GENERAL"):n.minLogLevel==n.GENERAL&&s&&(console.log(e),i("general",e)))},n.debug=function(e){n.enabled&&(n._isConnected?n.remoteLog(e,"DEBUG"):n.minLogLevel<=n.DEBUG&&s&&(console.debug(e),i("debug",e)))},n.info=function(e){n.enabled&&(n._isConnected?n.remoteLog(e,"INFO"):n.minLogLevel<=n.INFO&&s&&(console.info(e),i("info",e)))},n.warn=function(e){n.enabled&&(n._isConnected?n.remoteLog(e,"WARNING"):n.minLogLevel<=n.WARN&&s&&(console.warn(e),i("warn",e)))},n.error=function(e){n.enabled&&(n._isConnected?n.remoteLog(e,"ERROR"):s&&(console.error(e),i("error",e)))},n.assert=function(e,t){s&&n.enabled&&console.assert&&(console.assert(e,t),e||i("error",t))},n.dir=function(e){n.minLogLevel==n.GENERAL&&s&&n.enabled&&console.dir(e)},n.clear=function(){s&&n.enabled&&(console.clear(),n.output&&n.output.html(""))},n.trace=function(e){n.minLogLevel==n.GENERAL&&s&&n.enabled&&console.trace(e)},e.Debug=n}(window),function(e){var t=function(){},i=t.prototype=new createjs.Container,n=!1,s=!1,o=null,a=0,r=0,l=null,u=0,d=null,c=null,h=-1,g=!1,_=0,p=0;t.VERSION="1.0.0",i.Container_initialize=i.initialize,i.stage=null,i._renderer=null,i._app=null,i.options=null,i._updateFunctions={},t.init=function(e,i){return c||(c=new t,c.initialize(e,i)),c},i.initialize=function(t,i){this.Container_initialize(),this.options=i||{},this.options.parseQueryString!==e&&(this.options=L(this.options)),this.options.debug!==e&&(Debug.enabled=this.options.debug===!0||"true"===this.options.debug),this.options.minLogLevel!==e&&(Debug.minLogLevel=parseInt(this.options.minLogLevel,10)),"string"==typeof this.options.ip&&Debug.connect(this.options.ip);var n=cloudkid.MediaLoader.init();this.stage=new createjs.Stage(t),this.stage.name="cloudkid.OS",this.stage.canvas.onmousedown=function(e){e.preventDefault()},this.stage.addChild(this),this.visibleListener=this.onWindowVisibilityChanged.bind(this),w(this.visibleListener);var a=window.hasOwnProperty("ontouchstart");if((-1==window.navigator.userAgent.indexOf("MSIE 10.0")||a)&&createjs.Touch.enable(this.stage),this.stage.autoClear=!!this.options.clearView||!1,this.options.showFramerate&&(o=new createjs.Text("","10px Arial","#000"),o.stroke={width:2,color:"#ffffff"},o.x=o.y=5,this.addChild(o)),this.stage.update(),d=this.tick.bind(this),g=this.options.raf||!1,this.fps=this.options.fps||60,this.removeApp(),this.options.versionsFile!==e){s=!1;var r=this;n.cacheManager.addVersionsFile(this.options.versionsFile,function(){s=!0,r._app&&(r.addChildAt(r._app,0),r._app.init(),r.resume())})}else s=!0};var m=null,v=null,b="visible",f="hidden",w=function(e){m="hidden",m in document?document.addEventListener("visibilitychange",e):(m="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(m="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(m="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?(v={focusin:b,focusout:f},document.onfocusin=document.onfocusout=e):(v={focus:b,pageshow:b,blur:f,pagehide:f},window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e)},k=function(e){var t="hidden";t in document?document.removeEventListener("visibilitychange",e):(t="mozHidden")in document?document.removeEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",e):(t="msHidden")in document&&document.removeEventListener("msvisibilitychange",e),document.onfocusin=document.onfocusout=null,window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null};i.onWindowVisibilityChanged=function(e){var t="visible",i="hidden";e=e||window.event;var n;n=v?v[e.type]:document[m]?i:t,n==i?this.pause():this.resume()};var L=function(e){var t=window.location.href,i=t.indexOf("?");if(-1==i)return e;var n=0>i?"":t.substr(i+1),s=n.indexOf("#");n=0>s?n:n.substring(0,s);var o,a=n.split("&");for(var r in a)o=a[r].split("="),e[o[0]]=o[1];return e};i.pause=function(){-1!=h&&(g?window.cancelAnimationFrame&&cancelAnimationFrame(h):clearTimeout(h),h=-1),n=!0};var y=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);y=y?y.bind(performance):function(){return(new Date).getTime()},i.getTime=function(){return y()},i.resume=function(){n=!1,-1==h&&(h=g?requestAnimFrame(d):C(d)),r=a=this.getTime()},Object.defineProperty(i,"fps",{get:function(){return _},set:function(e){"number"==typeof e&&(_=e,p=0|1e3/_)}});var C=function(e,t){var i=0;return t&&(i=Math.max(0,p-t)),setTimeout(e,i)};i.removeApp=function(e){var t=!1,i=this.stage;return this._app&&(this.contains(this._app)&&this.removeChild(this._app),i.removeAllChildren(),this._app.destroy(),t=!0),this._app=null,this.pause(),e||(i.addChild(this),o&&(o.text="FPS: 0.000"),a=r=l=u=0,this.stage.update()),t},i.addApp=function(e){if(this.removeApp(),!(e instanceof cloudkid.Application))throw Error("Can only objects that inherit cloudkid.Application");this._app=e,s&&(this.addChildAt(e,0),this._app.init(),this.resume())},i.getApp=function(){return this._app},i.addUpdateCallback=function(t,i){this._updateFunctions[t]===e&&(this._updateFunctions[t]=i)},i.removeUpdateCallback=function(t){this._updateFunctions[t]!==e&&delete this._updateFunctions[t]},i.tick=function(){if(n)return h=-1,e;var t=this.getTime(),i=t-a;if(o&&o.visible){u++;var s=t-r;s>1e3&&(l=1e3/s*u,o.text="FPS: "+Math.round(1e3*l)/1e3,r=t,u=0)}a=t,this._app&&this._app.update(i);for(var c in this._updateFunctions)this._updateFunctions[c](i);this.stage.update(i),h=g?requestAnimFrame(d):C(d,this.getTime()-a)},i.destroy=function(){var e=cloudkid.MediaLoader.instance;this.pause(),this.removeApp(!0),c=null,createjs.Touch.disable(this.stage),e.destroy(),this.stage=null,this._updateFunctions=null,k(this.visibleListener)},Object.defineProperty(t,"instance",{get:function(){if(!c)throw"Call cloudkid.OS.init(canvasId)";return c}}),namespace("cloudkid").OS=t}(),function(){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=Array.prototype.slice.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var o=new s,a=t.apply(o,i.concat(Array.prototype.slice.call(arguments)));return Object(a)===a?a:o}return t.apply(e,i.concat(Array.prototype.slice.call(arguments)))};return n});for(var e=0,t=["ms","moz","webkit","o"],i=0;t.length>i&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),s=window.setTimeout(function(){t(i+n)},n);return e=i+n,s},window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})),window.requestAnimFrame=window.requestAnimationFrame}(),function(){var e,t=function(){this.initialize()};e=t.prototype=new createjs.Container,e.init=function(){},e.update=function(){},e.destroy=function(){},e.resize=function(){},namespace("cloudkid").Application=t}(),function(){var e=function(){},t=e.prototype;e.PRIORITY_HIGH=1,e.PRIORITY_NORMAL=0,e.PRIORITY_LOW=-1,t.url=null,t.data=null,t.callback=null,t.priority=0,t.progress=0,t.updateCallback=null,t.toString=function(){return"[LoaderQueueItem(url:'"+this.url+"', priority:"+this.priority+")]"},t.destroy=function(){this.callback=null,this.updateCallback=null,this.data=null},namespace("cloudkid").LoaderQueueItem=e}(),function(){var e=function(){},t=e.prototype;e._instance=null;var n=null,s=null,o=null,a=0,r=null;t._canLoad=!0,t.maxSimultaneousLoads=2,t.cacheManager=null,e.init=function(){return e._instance||(e._instance=new e,e._instance._initialize()),e._instance},Object.defineProperty(e,"instance",{get:function(){if(!e._instance)throw"Call cloudkid.MediaLoader.init()";return e._instance}}),t.destroy=function(){e._instance=null,this.cacheManager&&this.cacheManager.destroy(),this.cacheManager=null,n=null},t._initialize=function(){n=[],s={},o={},r={},this.cacheManager=new cloudkid.CacheManager},t.load=function(e,t,i,s,o){var a=new cloudkid.LoaderQueueItem;a.url=e,a.callback=t,a.updateCallback=i||null,a.priority=s||cloudkid.LoaderQueueItem.PRIORITY_NORMAL,a.data=o||null,n.push(a),n.sort(function(e,t){return e.priority-t.priority}),this._tryNextLoad()},t._onLoadFailed=function(e,t){Debug.error("Unable to load file: "+e.url+" - reason: "+t.error);var i=o[e.url];i.removeAllEventListeners(),i.close(),delete s[e.url],delete o[e.url],r[e.url]?r[e.url]++:r[e.url]=1,r[e.url]>3?this._loadDone(e,null):(a--,n.push(e),this._tryNextLoad())},t._onLoadProgress=function(e,t){e.progress=t.progress,e.updateCallback&&e.updateCallback(e.progress)},t._onLoadCompleted=function(e,t){var i=o[e.url];i.removeAllEventListeners(),i.close(),delete s[e.url],delete o[e.url],this._loadDone(e,new cloudkid.MediaLoaderResult(t.result,e.url,i))},t._tryNextLoad=function(){if(!(a>this.maxSimultaneousLoads-1||0===n.length)){a++;var e=n.shift();s[e.url]=e;var t=new createjs.LoadQueue(!0);createjs.Sound&&t.installPlugin(createjs.Sound),o[e.url]=t,t.addEventListener("fileload",this._onLoadCompleted.bind(this,e)),t.addEventListener("error",this._onLoadFailed.bind(this,e)),t.addEventListener("fileprogress",this._onLoadProgress.bind(this,e));var i=this.cacheManager.prepare(e.url);t.loadFile(e.data?{id:e.data.id,src:i,data:e.data}:i)}},t._loadDone=function(e,t){a--,e.callback(t),e.destroy(),this._tryNextLoad()},t.cancel=function(e){var t=s[e],r=o[e];if(t&&r)return r.close(),delete o[e],delete s[t.url],a--,t;for(i=0;len>i;i++)if(t=n(i),t.url==e)return n.splice(i,1),t;return null},namespace("cloudkid").MediaLoader=e}(),function(){var e=function(e,t,i){this.content=e,this.url=t,this.loader=i},t=e.prototype;t.content=null,t.url=null,t.loader=null,t.toString=function(){return"[MediaLoaderResult('"+this.url+"')]"},t.destroy=function(){this.callback=null,this.url=null,this.content=null},namespace("cloudkid").MediaLoaderResult=e}(),function(e){var t=function(){this.initialize()},i=t.prototype={};i._versions=null,i.cacheBust=!1,i.initialize=function(){this._versions=[];var e=cloudkid.OS.instance.options.cacheBust;this.cacheBust=e?"true"===e||e===!0:!1},i.destroy=function(){this._versions=null},i.addVersionsFile=function(t,i,n){Debug.assert(/^.*\.txt$/.test(t),"The versions file must be a *.txt file");var s=cloudkid.MediaLoader.instance;if(this.cacheBust)return i&&i(),e;this.addVersion(t,Math.round(1e5*Math.random()));var o=this;s.load(t,function(e){if(e&&e.content){var t,s,a=e.content.replace(/\r/g,"").split("\n");for(t=0;a.length>t;t++)a[t]&&(s=a[t].split(" "),2==s.length&&o.addVersion((n||"")+s[0],s[1]))}i&&i()})},i.addVersion=function(e,t){var i=this._getVersionByUrl(e);i||this._versions.push({url:e,version:t})},i._getVersionByUrl=function(e){var t,i=this._versions.length;for(t=0;i>t;t++)if(e==this._versions[t].url)return this._versions[t];return null},i.prepare=function(t){var i=this._getVersionByUrl(t);this.cacheBust&&/(\?|\&)cb\=[0-9]*/.test(t)===!1?(this._cbVal||(this._cbVal=""+(new Date).getTime()),t=t+(0>t.indexOf("?")?"?":"&")+"cb="+this._cbVal):i&&/(\?|\&)v\=[0-9]*/.test(t)===!1&&(t=t+(0>t.indexOf("?")?"?":"&")+"v="+i.version);var n=cloudkid.OS.instance.options.basePath;return/^http(s)?\:/.test(t)===!1&&n!==e&&-1==t.search(n)&&(t=n+t),t},namespace("cloudkid").CacheManager=t}(),function(e){var t=function(e,t,i){this.initialize(e,t,i)},i=t.prototype=new createjs.Container,n=createjs.Container.prototype;i.back=null,i.label=null,i._overCB=null,i._outCB=null,i._downCB=null,i._upCB=null,i._downEvent=null,i._enabled=!1,i._isDown=!1,i._isOver=!1,i._isSelected=!1,i._isSelectable=!1,i._upRects=null,i._overRects=null,i._downRects=null,i._disabledRects=null,i._selectedRects=null,i._width=0,i._height=0,i.initialize=function(t,i,s){n.initialize.call(this),this._downCB=this._onMouseDown.bind(this),this._upCB=this._onMouseUp.bind(this),this._overCB=this._onMouseOver.bind(this),this._outCB=this._onMouseOut.bind(this);var o,a,r;if(t.image?(o=t.image,this._upRects=t.up,this._upRects.trim?(this.upTrim=this._upRects.trim,a=this.upTrim.width,r=this.upTrim.height):(a=this.upRect.src.width,r=this.upRect.src.height),this._overRects=t.over||this._upRects,this._downRects=t.down||this._upRects,this._disabledRects=t.disabled||this._upRects,t.selected&&(this._selectedRects=t.selected,this._isSelectable=!0)):(o=t,a=o.width,r=o.height/3,this._upRects={src:new createjs.Rectangle(0,0,a,r)},this._overRects={src:new createjs.Rectangle(0,r,a,r)},this._downRects={src:new createjs.Rectangle(0,2*r,a,r)},this._disabledRects=this._upRects),this.back=new createjs.Bitmap(o),this.addChild(this.back),this._width=a,this._height=r,i){this.label=new createjs.Text(i.text,i.font,i.color),i.textBaseline&&(this.label.textBaseline=i.textBaseline),this.label.stroke=i.stroke,this.addChild(this.label),this.label.x=.5*(a-this.label.getMeasuredWidth());var l=this.label.getMeasuredLineHeight();this.label.y=.5*(r-l)}this.enabled=s===e?!0:!!s},Object.defineProperty(i,"width",{get:function(){return this._width*this.scaleX},set:function(e){this.scaleX=e/this._width}}),Object.defineProperty(i,"height",{get:function(){return this._height*this.scaleY},set:function(e){this.scaleY=e/this._width}}),i.setText=function(e){if(this.label){this.label.text=e,this.label.x=.5*(width-this.label.getMeasuredWidth());var t=this.label.getMeasuredLineHeight();this.label.y=.5*(height-t)}},Object.defineProperty(i,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._enabled?(this.cursor="pointer",this.addEventListener("mousedown",this._downCB),this.addEventListener("mouseover",this._overCB),this.addEventListener("mouseout",this._outCB)):(this.cursor=null,this.removeEventListener("mousedown",this._downCB),this.removeEventListener("mouseover",this._overCB),this.removeEventListener("mouseout",this._outCB),this._isDown=this._isOver=!1),this._updateState()}}),Object.defineProperty(i,"selected",{get:function(){return this._isSelected},set:function(e){this._isSelectable&&(this._isSelected=e,this._updateState())}}),i._updateState=function(){if(this.back){var e;e=this._enabled?this._isDown?this._downRects:this._isOver?this._overRects:this._isSelected?this._selectedRects:this._upRects:this._disabledRects,this.back.scrollRect=e.src,e.trim?(this.back.x=e.trim.x,this.back.y=e.trim.y):this.back.x=this.back.y=0}},i._onMouseDown=function(e){this._downEvent=e,this._downEvent.addEventListener("mouseup",this._upCB),this._isDown=!0,this._updateState()},i._onMouseUp=function(){this._downEvent.removeEventListener("mouseup",this._upCB),this._downEvent=null,this._isDown=!1,this._updateState()},i._onMouseOver=function(){this._isOver=!0,this._updateState()},i._onMouseOut=function(){this._isOver=!1,this._updateState()},i.destroy=function(){this.removeAllChildren(),this.removeAllListeners(),this._upRects=null,this._overRects=null,this._downRects=null,this._disabledRects=null,this._selectedRects=null,this._downCB=null,this._upCB=null,this._overCB=null,this._outCB=null,this._downEvent&&(this._downEvent.removeEventListener("mouseup",this._upCB),this._downEvent=null),this.back=null,this.label=null},namespace("cloudkid").Button=t}(),function(){var e=function(e,t){this.initialize(e,t)},t=e.prototype={};t._updateCallback=null,t._mouseDownEvent=null,t.draggedObj=null,t._dragOffset=null,t.dragStartThreshold=20,t._mouseDownStagePos=null,t.isTouchMove=!1,t.isHeldDrag=!1,t.isStickyClick=!1,t._theStage=null,t._dragStartCallback=null,t._dragEndCallback=null,t._triggerHeldDragCallback=null,t._triggerStickyClickCallback=null,t._stageMouseUpCallback=null,t._draggableObjects=null,t.initialize=function(e,t){this._updateCallback=this._updateObjPosition.bind(this),this._triggerHeldDragCallback=this._triggerHeldDrag.bind(this),this._triggerStickyClickCallback=this._triggerStickyClick.bind(this),this._stageMouseUpCallback=this._stopDrag.bind(this),this._theStage=cloudkid.OS.instance.stage,this._dragStartCallback=e,this._dragEndCallback=t,this._draggableObjects=[],this._mouseDownStagePos={x:0,y:0}},t.startDrag=function(e,t){this._objMouseDown(t,e)},t._objMouseDown=function(e,t){null===this.draggedObj&&(this.draggedObj=t,createjs.Tween.removeTweens(this.draggedObj),this._dragStartCallback(this.draggedObj),this._dragOffset=this.draggedObj.globalToLocal(e.stageX,e.stageY),this._dragOffset=this.draggedObj.localToLocal(this._dragOffset.x,this._dragOffset.y,this.draggedObj.parent),this._dragOffset.x-=this.draggedObj.x,this._dragOffset.y-=this.draggedObj.y,e?"touchstart"==e.nativeEvent.type?(this.isTouchMove=!0,this.isHeldDrag=!0,this._startDrag()):(this._mouseDownEvent=e,this._mouseDownStagePos.x=e.stageX,this._mouseDownStagePos.y=e.stageY,this._mouseDownEvent.addEventListener("mousemove",this._triggerHeldDragCallback),this._mouseDownEvent.addEventListener("mouseup",this._triggerStickyClickCallback)):(this.isHeldDrag=!0,this._startDrag()))},t._triggerStickyClick=function(){this.isStickyClick=!0,this._mouseDownEvent.removeAllEventListeners(),this._mouseDownEvent=null,this._startDrag()},t._triggerHeldDrag=function(e){var t=e.stageX-this._mouseDownStagePos.x,i=e.stageY-this._mouseDownStagePos.y;t*t+i*i>=this.dragStartThreshold*this.dragStartThreshold&&(this.isHeldDrag=!0,this._mouseDownEvent.removeAllEventListeners(),this._mouseDownEvent=null,this._startDrag())},t._startDrag=function(){this._theStage.removeEventListener("stagemousemove",this._updateCallback),this._theStage.addEventListener("stagemousemove",this._updateCallback),this._theStage.removeEventListener("stagemouseup",this._stageMouseUpCallback),this._theStage.addEventListener("stagemouseup",this._stageMouseUpCallback)},t.stopDrag=function(e){this._stopDrag(null,e===!0)},t._stopDrag=function(e,t){t!==!1&&this._dragEndCallback(this.draggedObj),null!==this._mouseDownEvent&&(this._mouseDownEvent.removeAllEventListeners(),this._mouseDownEvent=null),this._theStage.removeEventListener("stagemousemove",this._updateCallback),this._theStage.removeEventListener("stagemouseup",this._stageMouseUpCallback),this.draggedObj=null,this.isTouchMove=!1,this.isStickyClick=!1,this.isHeldMove=!1},t._updateObjPosition=function(e){if(this.isTouchMove||this._theStage.mouseInBounds){var t=this.draggedObj.parent.globalToLocal(e.stageX,e.stageY),n=this.draggedObj._dragBounds;this.draggedObj.x=i(t.x-this._dragOffset.x,n.x,n.right),this.draggedObj.y=i(t.y-this._dragOffset.y,n.y,n.bottom)}};var i=function(e,t,i){return t>e?t:e>i?i:e},n=function(){this.addEventListener("mousedown",this._onMouseDownListener),this.cursor="pointer"},s=function(){this.removeEventListener("mousedown",this._onMouseDownListener),this.cursor=null},o=function(e){this._dragMan._objMouseDown(e,this)};t.addObject=function(e,t){t||(t={x:0,y:0,width:this._theStage.canvas.width,height:this._theStage.canvas.height}),t.right=t.x+t.width,t.bottom=t.y+t.height,e._dragBounds=t,this._draggableObjects.indexOf(e)>=0||(e.enableDrag=n,e.disableDrag=s,e._onMouseDownListener=o.bind(e),e._dragMan=this,this._draggableObjects.push(e))},t.removeObject=function(e){e.disableDrag(),delete e.enableDrag,delete e.disableDrag,delete e._onMouseDownListener,delete e._dragMan,delete e._dragBounds;var t=this._draggableObjects.indexOf(e);t>=0&&this._draggableObjects.splice(t,1)},t.destroy=function(){null!==this.draggedObj&&(this._mouseDownEvent.removeAllEventListeners(),this._mouseDownEvent=null,this._theStage.removeEventListener("stagemousemove",this._updateCallback),this.draggedObj=null),this._updateCallback=null,this._dragStartCallback=null,this._dragEndCallback=null,this._triggerHeldDragCallback=null,this._triggerStickyClickCallback=null,this._stageMouseUpCallback=null,this._theStage=null;for(var e=this._draggableObjects.length-1;e>=0;--e){var t=this._draggableObjects[e];t.disableDrag(),delete t.enableDrag,delete t.disableDrag,delete t._onMouseDownListener,delete t._dragMan,delete t._dragBounds}this._draggableObjects=null},namespace("cloudkid").DragManager=e}();